var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},ClickImg=function(){function t(){var e=this;this.transforms={translate:[0,0],scale:1},this.target=document.createElement("div"),this.target.classList.add("click-img","container","align-center","justify-center"),this.target.style.minHeight="100vh",this.target.style.width="100vw",this.target.style.backgroundColor="var(--selection-color)",this.target.style.display="none",this.target.style.position="fixed",this.target.style.top="0",this.target.style.left="0",this.target.addEventListener("click",function(t){e.target.style.display="none"}),document.querySelector("body").appendChild(this.target),this.targetContainer=document.createElement("div"),this.target.appendChild(this.targetContainer),this.targetImg=document.createElement("img"),this.targetImg.style.display="block",this.targetImg.style.maxHeight="85vh",this.targetImg.style.maxWidth="85vw",this.targetImg.style.cursor="zoom-in",this.targetImg.style.transition="transform .3s",this.targetImg.src="",this.targetImg.classList.add("full"),this.targetContainer.appendChild(this.targetImg)}return t.prototype.syncTransform=function(){var t=this.transforms.translate,e=t[0],n=t[1],t=this.transforms.scale;this.targetImg.style.transform="scale("+t+") translate("+e+"px, "+n+"px)"},t.prototype.draw=function(t){this.targetImg.src=t.src,this.resetImage()},t.prototype.connectToTargetImage=function(){var r=this;this.targetImg.addEventListener("click",function(t){var e,n;r.transforms.scale<1.1?(r.transforms.scale=3,e=r.target.clientWidth/2-t.clientX,n=r.target.clientHeight/2-t.clientY,r.transforms.translate=[e,n],r.targetImg.style.cursor="zoom-out",r.syncTransform()):(r.targetImg.style.cursor="zoom-in",r.resetImage()),t.stopPropagation()})},t.prototype.resetImage=function(){this.transforms={scale:1,translate:[0,0]},this.syncTransform()},t.prototype.connectAll=function(){var e=this;Array.from(document.querySelectorAll("img:not(.full)")).forEach(function(t){e.connect(t)})},t.prototype.connect=function(t){var e=this;t.style.cursor="zoom-in",t.addEventListener("click",function(t){t.target instanceof HTMLImageElement&&(e.draw(t.target),e.target.style.display="flex")})},t}(),lazyimg=function(t,e){e=e||function(t){};t=Array.from(document.querySelectorAll(t));(void 0!==window.IntersectionObserver?byIntersectionObserver:byEager)(t,e)},fetchImg=function(t){return fetch(t).then(function(t){return t.blob()}).then(function(t){return URL.createObjectURL(t)})},loadImg=function(r,a){return new Promise(function(n){fetchImg(a.src).then(function(t){var e=document.createElement("img");e.src=t,a.alt&&(e.alt=a.alt),e.title&&(e.title=a.title),a.lazy&&(e.loading="lazy"),r.prepend(e),n(e)})})},byEager=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].dataset;loadImg(t[n],__assign(__assign({},r),{lazy:!0})).then(function(t){return e(t)})}},byIntersectionObserver=function(t,i){for(var e=new IntersectionObserver(function(t,e){for(var n=0,r=t;n<r.length;n++){var a,s=r[n];s.isIntersecting&&s.target instanceof HTMLElement&&(a=s.target.dataset,loadImg(s.target,a).then(function(t){return i(t)}),e.unobserve(s.target))}}),n=0;n<t.length;n++){var r=t[n];e.observe(r)}};document.addEventListener("DOMContentLoaded",function(){var e=new ClickImg;lazyimg(".lazyimg-container",function(t){e.connect(t)}),e.connectToTargetImage()});
//# sourceMappingURL=vos.js.map